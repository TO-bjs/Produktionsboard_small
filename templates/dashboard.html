{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="text-center mt-5">
  <h1 class="display-4">ðŸ“º Dashboard startet...</h1>
  <p class="lead">Vollbild wird aktiviert, dann beginnt die Slideshow.</p>
</div>
{% endblock %}

{% block scripts %}
<script>
  const dashboardPages = [
    "/landing?slideshow=1",
    "/anzeige?slideshow=1",
    "/schulungen?slideshow=1"
  ];

  let currentIndex = 0;

  // Starte Vollbildmodus, wenn erlaubt
  function enterFullscreen() {
    const el = document.documentElement;
    if (el.requestFullscreen) el.requestFullscreen();
    else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
    else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
    else if (el.msRequestFullscreen) el.msRequestFullscreen();
  }

  // Initial: Vollbild + Start Slideshow
  document.addEventListener("DOMContentLoaded", function () {
    enterFullscreen();
    setTimeout(() => {
      window.location.href = dashboardPages[currentIndex];
    }, 1000);
  });
</script>
{% endblock %}
